<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.1.149">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="the Manateam">

<title>The OCR notebook</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
</style>


<script src="chapter-3_files/libs/clipboard/clipboard.min.js"></script>
<script src="chapter-3_files/libs/quarto-html/quarto.js"></script>
<script src="chapter-3_files/libs/quarto-html/popper.min.js"></script>
<script src="chapter-3_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="chapter-3_files/libs/quarto-html/anchor.min.js"></script>
<link href="chapter-3_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="chapter-3_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="chapter-3_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="chapter-3_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="chapter-3_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">


</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">The OCR notebook</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>the Manateam </p>
          </div>
  </div>
    
    
  </div>
  

</header>

<section id="using-the-ocr-notebook-on-colab" class="level1">
<h1>Using the OCR notebook on Colab</h1>
<p>You can find the OCR notebook <a href="https://github.com/Digital-Huge-Manitees/Digital_Huge_Manitees" title="Link to the Digital Huge Manitees main directory">here</a> on GitHub.</p>
<section id="objectives" class="level2">
<h2 class="anchored" data-anchor-id="objectives">Objectives</h2>
<p>After using the OCR notebook you will have accomplished the following:</p>
</section>
<section id="about-google-colab" class="level2">
<h2 class="anchored" data-anchor-id="about-google-colab">About Google Colab</h2>
<p>Google Colab is a Jupyter Notebook that runs on Google’s servers, allowing you to run Python code on data calculated and stored on cloud servers. This is great for large, computationally heavy projects where processing can be increased easily with a few lines of code. Unlike Jupyter notebooks run locally on your computer, the Colab environment is independent of your locally installed environments, meaning that you are less likely to run into conflicts. The downside to the Google Colab environment is that any information created in Colab is erased when you close the browser, unless you save it somewhere, like GitHub or locally on your computer.</p>
</section>
<section id="process-guide-for-the-ocr-notebook" class="level2">
<h2 class="anchored" data-anchor-id="process-guide-for-the-ocr-notebook">Process guide for the OCR notebook</h2>
<section id="step-1" class="level3">
<h3 class="anchored" data-anchor-id="step-1">Step 1:</h3>
<p>There are two ways to open the OCR notebook:</p>
<ol type="1">
<li><p>open through Github [insert screenshot] - you will use this process the first time opening the notebooks.</p>
<ol type="1">
<li>Save a copy of this notebook to your Google Drive. All changes will be saved to your own copy.</li>
</ol></li>
<li><p>Open through Colab [insert screenshot] - You can use this process if you have previously saved it to your Google Drive.</p>
<ol type="1">
<li><p>In Colab, go to File&gt;Open. This will open a dialog box.</p></li>
<li><p>At the top tabs of the dialog box, select Google Drive - you should see your previously saved copy.</p></li>
</ol></li>
</ol>
<p>Run the first cell - this will connect to your Google Drive. A dialog box will open and ask you to select your Google account and ask for your permission to connect to your Google Drive.</p>
<p>It will also create a new directory in your Google Drive for all of the files needed for this project. You should see something like this indicating your new working directory.</p>
<p><img src="images/Screen%20Shot%202022-09-07%20at%204.35.34%20PM.png" class="img-fluid" alt="screenshot of Step 1 response"></p>
<p>Follow the steps for 1d to put the scanned pdf files into the working directory. Colab has a file manager on the left hand side that will allow you to drag and drop files to the working directory, OCR_Project_Folder.</p>
<p><img src="images/Screen%20Shot%202022-09-07%20at%204.41.20%20PM.png" class="img-fluid" alt="Colab file manager"></p>
</section>
<section id="step-2" class="level3">
<h3 class="anchored" data-anchor-id="step-2">Step 2:</h3>
<p>Install the dependencies and import the libraries. IF you have run this before, you may find that the runtime needs to be restarted. Its ok to do this. Just click the Restart Runtime button provided. Rerun the cell again to made sure everything has been imported.</p>
</section>
<section id="step-3" class="level3">
<h3 class="anchored" data-anchor-id="step-3">Step 3:</h3>
<p>This step gathers any and all PDF files you have placed in the working directory. What you are first starting, it is recommended that you only do one at a time, if you are working with multipage PDFs, such as those from the Gazette archives.</p>
<p><img src="images/Screen%20Shot%202022-09-07%20at%204.57.25%20PM.png" class="img-fluid" alt="example screenshot" width="577"></p>
<p>IF you are running this analysis again, make sure you have cleaned out previous PDFs and only have the ones you want in the working directory.</p>
<p>The second cell creates the OsCaRizer function. This does all of the analysis on the PDF.</p>
<p><img src="images/Screen%20Shot%202022-09-07%20at%204.59.12%20PM.png" class="img-fluid" alt="screenshot of the second cell" width="576"></p>
</section>
<section id="step-4" class="level3">
<h3 class="anchored" data-anchor-id="step-4">Step 4:</h3>
<p>Run this cell to take each image file and create text in a .txt file format. The output file will have the same name as the input file, but with a .txt extension.</p>
</section>
</section>
<section id="managing-output-from-the-notebook" class="level2">
<h2 class="anchored" data-anchor-id="managing-output-from-the-notebook">Managing output from the notebook</h2>
<p>Unlike your own computer, Google Colab does not save anything in memory. However, since you’ve saved everything to your Google Drive, such as your results, these files will be saved indefinitely.</p>
<p>The PDF file and the output .txt files should be moved out of the working directory to a safe place, such as another Google Drive Directory. You will likely be using these in the next notebook for LDA.</p>
<p>The image files may remain as it is safe for them to be overwritten.</p>
</section>
<section id="future-improvements-applications" class="level2">
<h2 class="anchored" data-anchor-id="future-improvements-applications">Future improvements &amp; applications</h2>
<p>Even for those scholars that prefer close reading, the OCR process can make reading primary texts easier as it converts scanned images into searchable text.</p>
<p>As a raw text file, there are improvements that can be made to this notebook. Improvements could be:</p>
<ul>
<li><p>keep articles continuous as they are often split across pages in newspapers.</p></li>
<li><p>identify image placements with placeholder text.</p></li>
<li><p>combine with image classification methods that identify and provide context for image and text together.</p></li>
<li><p>identify other aspects of the artefact, such as damage locations or typefaces.</p></li>
</ul>
</section>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    setTimeout(function() {
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const cites = ref.parentNode.getAttribute('data-cites').split(' ');
    tippyHover(ref, function() {
      var popup = window.document.createElement('div');
      cites.forEach(function(cite) {
        var citeDiv = window.document.createElement('div');
        citeDiv.classList.add('hanging-indent');
        citeDiv.classList.add('csl-entry');
        var biblioDiv = window.document.getElementById('ref-' + cite);
        if (biblioDiv) {
          citeDiv.innerHTML = biblioDiv.innerHTML;
        }
        popup.appendChild(citeDiv);
      });
      return popup.innerHTML;
    });
  }
});
</script>
</div> <!-- /content -->



</body></html>